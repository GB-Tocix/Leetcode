# 内部类与嵌套类



**内部类(非静态嵌套类)** 和 **嵌套类(静态嵌套类)**有着本质的区别，有点类似普通成员变量和静态成员变量的区别。

**内部类**<u>可以看成是外部类的普通成员变量</u>

- 这个成员变量可以使用外部类的属性(静态和非静态)，可以调用外部类的方法(静态和非静态)，而且内部类还持有外部类对象作为其自身的一个属性，这个属性的名称叫 **this\$**，可以使用反射获取外部类对象。
- 内部类对象在其他类中不能使用构造函数直接 new 得到，因为内部类对象类似外部类的成员变量，外部类不存在时，内部属性自然不能生成。
- 内部类持有外部类对象的最好实例就是容器类的Iterator对象，通过容器类的 iterator() 方法得到Iterator 对象，然后通过 Iterator 对象就能遍历容器，就是因为 Iterator 对象持有外部对象也就是容器对象的实例，大部分容器均有一个内部类实现了 Iterator 接口，实现自己的遍历逻辑。

**嵌套类**<u>可以看成是外部类的静态成员</u>

- 只能使用外部类的静态属性和静态方法。

- 嵌套类是独立于外部类存在的，也就是其他类可以通过调用嵌套类的构造函数来获取嵌套类实例。

- 嵌套类不持有外部类对象实例，嵌套类可以看成是另外一个独立的类。很多情况是嵌套类仅仅在外部类里使用，使用嵌套类对外部类的几个属性或者一些函数做一个封装，便于外部类的逻辑实现，所以其修饰符很多时候定义为 private static class。

  

内部类和嵌套类的类名均是——外部类名称+自身类名称，比如：

- com.bob.test.concrete.clazz.TopLevelClassNestedClass
- com.bob.test.concrete.clazz.TopLevelClassInnerClass

包名和外部类一致，且可以通过外部类的 `Class.getDeclaredClasses()` 方法获取所有定义的内部类和嵌套类。

